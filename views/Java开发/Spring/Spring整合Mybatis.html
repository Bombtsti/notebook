<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring整合Mybatis | zlw &#39;s notebook</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Welcome">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/notebook/assets/css/0.styles.31a7f2a7.css" as="style"><link rel="preload" href="/notebook/assets/js/app.6673cf95.js" as="script"><link rel="preload" href="/notebook/assets/js/3.d05419cb.js" as="script"><link rel="preload" href="/notebook/assets/js/1.8c84e2ea.js" as="script"><link rel="preload" href="/notebook/assets/js/8.207b2975.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.6d5842aa.js"><link rel="prefetch" href="/notebook/assets/js/11.690f1092.js"><link rel="prefetch" href="/notebook/assets/js/12.fc790ee8.js"><link rel="prefetch" href="/notebook/assets/js/4.f4351089.js"><link rel="prefetch" href="/notebook/assets/js/5.8fe57dff.js"><link rel="prefetch" href="/notebook/assets/js/6.84d049f0.js"><link rel="prefetch" href="/notebook/assets/js/7.37684de7.js"><link rel="prefetch" href="/notebook/assets/js/9.a3dea69e.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.31a7f2a7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>zlw 's notebook</h3> <p class="description" data-v-59e6cb88>Welcome</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>zlw</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/avatar.jpg" alt="zlw 's notebook" class="logo"> <span class="site-name">zlw 's notebook</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/notebook/categories/Java开发/" class="nav-link"><i class="undefined"></i>
  Java开发
</a></li></ul></div></div><div class="nav-item"><a href="/notebook/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/notebook/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/notebook/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    zlw
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>2</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>2</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/notebook/categories/Java开发/" class="nav-link"><i class="undefined"></i>
  Java开发
</a></li></ul></div></div><div class="nav-item"><a href="/notebook/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/notebook/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Spring整合Mybatis</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>zlw</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Spring整合Mybatis</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>zlw</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>3/2/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Spring Mybatis</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="spring整合mybatis"><a href="#spring整合mybatis" class="header-anchor">#</a> Spring整合Mybatis</h1> <h2 id="配置方式"><a href="#配置方式" class="header-anchor">#</a> 配置方式</h2> <p>目录结构如下：</p> <p><img src="/notebook/assets/img/image-20230301204920183.cf501968.png" alt="image-20230301204920183"></p> <p>导入开发相关的依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>demo2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>demo2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.apache.org<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.8.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.22.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.22.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.28<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.13.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.22.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>建立数据库user表</p> <p><img src="data:image/png;base64,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" alt="image-20230301203552178"></p> <p>pojo包下：定义与之对应的实体类User</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>dao包下：定义UserDao接口方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>

    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>在resource目录下创建mapper目录，存放xml文件，创建UserDao.xml，实现UserDao中的接口方法，命名空间需要与UserDao类对应</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.dao.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from user where id = #{id};
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>service包下：定义UserService，以setter注入的方法注入UserDao</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在resource目录下创建jdbc.properties</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai&amp;useSSL=false</span>
</code></pre></div><p>在resource目录下创建mybatis的配置文件，创建Mybatis.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--settings：控制mybatis全局行为--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--设置mybatis输出日志--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT_LOGGING<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!--设置别名--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.pojo<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!--
        一个mapper标签指定一个文件的位置。
        从类路径开始的路径信息
         target/classes(类路径)
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapper/UserDao.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在resource目录下创建spring的配置文件，创建applicationContext.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--
        一、将数据库的配置信息写在一个独立的文件中，编译修改数据库的配置内容
        spring 知道 jdbc.properties 文件的位置
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:jdbc.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--    二、连接池对象创建        --&gt;</span>
    <span class="token comment">&lt;!-- 声明数据源 DataSource 用来连接数据库--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--set注入给DruidDataSource提供连接数据库信息 --&gt;</span>
        <span class="token comment">&lt;!--    使用属性配置文件中的数据，语法 ${key} --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--声明的是mybatis中提供的SqlSessionFactoryBean类，这个类内部创建SqlSessionFactory的
            SqlSessionFactory  sqlSessionFactory = new ..
        --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--
            mybatis主配置文件，configLocation 属性是Resource类型，读取配置文件
            其赋值，使用value，指定文件的路径，使用classpath表示文件位置
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configLocation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:Mybatis.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--
        创建dao对象，使用sqlSession 的getMapper(Student.Class)
        MapperScannerConfigurer 在内部调用 getMapper() 生成 每个 dao接口的代理对象
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--指定SqlSessionFactory对象的id得到SqlSessionFactory对象获取 sqlSession --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--
         指定包名，包名是dao接口所在的包名
         MapperScannerConfigurer会扫描这个包中的所有接口，
         把每个接口都执行一次getMapper()方法，得到每个接口中的dao对象
         创建好的dao对象放在spring 容器中，dao对象的默认名称是 接口名首字母小写
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.dao<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--声明service--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.service.UserService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--studentDao是上一个bean里面创建的对象的名称--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用Junit单元测试</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ClassPathXmlApplicationContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ContextConfiguration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringJUnit4ClassRunner</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token string">&quot;classpath:applicationContext.xml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> config <span class="token operator">=</span> <span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">ApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserService</span> service <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>service<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/notebook/assets/img/image-20230301204748383.59bfdc5e.png" alt="image-20230301204748383"></p> <h2 id="注解方式"><a href="#注解方式" class="header-anchor">#</a> 注解方式</h2> <p>目录结构如下：</p> <p><img src="/notebook/assets/img/image-20230301205212588.610b691f.png" alt="image-20230301205212588"></p> <p>创建config包，使用java类的方式代替配置文件</p> <p>1、创建JDBCConfig.java定义数据源的配置信息</p> <p>原来的xml方式配置数据源</p> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!--    二、连接池对象创建        --&gt;</span>
    <span class="token comment">&lt;!-- 声明数据源 DataSource 用来连接数据库--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--set注入给DruidDataSource提供连接数据库信息 --&gt;</span>
        <span class="token comment">&lt;!--    使用属性配置文件中的数据，语法 ${key} --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>替换成：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.driver}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.username}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.password}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.url}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2、创建MybatisConfig.java定义mybatis相关的配置信息</p> <p>原来的xml配置方式</p> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!--声明的是mybatis中提供的SqlSessionFactoryBean类，这个类内部创建SqlSessionFactory的
            SqlSessionFactory  sqlSessionFactory = new ..
        --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--
            mybatis主配置文件，configLocation 属性是Resource类型，读取配置文件
            其赋值，使用value，指定文件的路径，使用classpath表示文件位置
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configLocation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:Mybatis.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--
        创建dao对象，使用sqlSession 的getMapper(Student.Class)
        MapperScannerConfigurer 在内部调用 getMapper() 生成 每个 dao接口的代理对象
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--指定SqlSessionFactory对象的id得到SqlSessionFactory对象获取 sqlSession --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--
         指定包名，包名是dao接口所在的包名
         MapperScannerConfigurer会扫描这个包中的所有接口，
         把每个接口都执行一次getMapper()方法，得到每个接口中的dao对象
         创建好的dao对象放在spring 容器中，dao对象的默认名称是 接口名首字母小写
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.dao<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>替换成</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MapperScannerConfigurer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactoryBean</span> <span class="token function">sqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//通过传入形参的方式引用bean</span>
        <span class="token class-name">SqlSessionFactoryBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setTypeAliasesPackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.qduzlw.pojo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MapperScannerConfigurer</span> <span class="token function">mapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">MapperScannerConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setBasePackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.qduzlw.dao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>3、创建SpringConfig.java定义spring相关的配置信息</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.qduzlw&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JDBCConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">MybatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>UserDao.java：使用Repository注解注入UserDao，在接口方法上使用注解方式定义sql语句代替UserDao.xml文件</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from user where id = #{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>UserService.java：使用Service注解注入UserService，Autowired注解注入UserDao，不用再写setter方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用Junit测试类进行测试</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qduzlw<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">SpringConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ContextConfiguration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringJUnit4ClassRunner</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/notebook/assets/img/image-20230301210506646.a853d783.png" alt="image-20230301210506646"></p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/notebook/views/Java%E5%BC%80%E5%8F%91/Spring/Spring%E6%95%B4%E5%90%88Mybatis.html#配置方式" class="sidebar-link reco-side-配置方式" data-v-b57cc07c>配置方式</a></li><li class="level-2" data-v-b57cc07c><a href="/notebook/views/Java%E5%BC%80%E5%8F%91/Spring/Spring%E6%95%B4%E5%90%88Mybatis.html#注解方式" class="sidebar-link reco-side-注解方式" data-v-b57cc07c>注解方式</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/notebook/assets/js/app.6673cf95.js" defer></script><script src="/notebook/assets/js/3.d05419cb.js" defer></script><script src="/notebook/assets/js/1.8c84e2ea.js" defer></script><script src="/notebook/assets/js/8.207b2975.js" defer></script>
  </body>
</html>
